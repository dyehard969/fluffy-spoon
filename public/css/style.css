/*
 * MURDOCK - Transaction Processing Tool
 * Optimized Stylesheet
 */

/* ================================
   Theme Variables
   ================================ */
   :root {
    --input-height: 38px;
    /* Base Colors */
    --bg: #f8f9fa;
    --bg-alt: #d3d3d3;
    --fg: #333;
    --fg-alt: #666;
    --primary: #3498db;
    --secondary: #2ecc71;
    --error: #e74c3c;
    --border: #dee2e6;
    --shadow: rgba(0,0,0,0.1);
    --hover: #f1f1f1;
  
    /* Layout & Typography */
    --radius: 4px;
    --transition: 0.3s;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --font-base: 'Helvetica Neue', Arial, sans-serif;
    --line-height: 1.6;
  }
  .dark-mode {
    --bg: #1a1a1a;
    --bg-alt: #2d2d2d;
    --fg: #fff;
    --fg-alt: #ccc;
    --border: #444;
    --shadow: rgba(0,0,0,0.3);
    --hover: #3d3d3d;
  }
  
  /* ================================
     Global Resets & Base
     ================================ */
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  body {
    font: 100%/var(--line-height) var(--font-base);
    background: var(--bg);
    color: var(--fg);
    transition: background var(--transition), color var(--transition);
  }
  img, svg { max-width: 100%; height: auto; }
  
  /* ================================
     Containers & Layout
     ================================ */
  .container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-md);
  }
  
  /* ================================
     Typography
     ================================ */
  h1 { font-size: 2rem; }
  h2 { font-size: 1.5rem; margin-bottom: var(--space-lg); }
  h1, h2, h3, h4, h5, h6 {
    margin-bottom: var(--space-md);
    font-weight: 600;
  }
  a {
    color: var(--primary);
    text-decoration: none;
    transition: color var(--transition);
  }
  a:hover { color: var(--secondary); }
  
  /* ================================
     Navbar
     ================================ */
  .navbar {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    background: var(--bg-alt);
    box-shadow: 0 2px 4px var(--shadow);
  }
  .logo h1 { color: var(--primary); }
  .nav-links {
    display: flex;
    gap: var(--space-lg);
  }
  .nav-link {
    padding: var(--space-sm);
    border-radius: var(--radius);
    font-weight: 500;
    color: var(--fg-alt);
    transition: all var(--transition);
  }
  .nav-link:hover,
  .nav-link.active {
    color: var(--primary);
    background: var(--hover);
  }
  
  /* ================================
     Theme Toggle
     ================================ */
  .theme-toggle {
    display: flex;
    align-items: center;
  }
  #theme-toggle-btn {
    background: none;
    border: none;
    font-size: 1.2rem;
    color: var(--fg-alt);
    padding: var(--space-sm);
    border-radius: 50%;
    cursor: pointer;
    transition: all var(--transition);
  }
  #theme-toggle-btn:hover {
    color: var(--primary);
    background: var(--hover);
  }
  
  /* ================================
     Sections & Spacing
     ================================ */
  .section { padding: var(--space-xl) 0; }
  
  /* ================================
     Forms & Inputs
     ================================ */
  label {
    display: block;
    margin-bottom: var(--space-sm);
    font-weight: 500;
    color: var(--fg);
    font-size: 0.95em;
  }
  input, textarea {
    height: var(--input-height);
    width: 100%;
    background: transparent;
    border: none;
    border-radius: var(--radius);
    padding: var(--space-sm) var(--space-md);
    color: var(--fg);
    outline: none;
    box-shadow: none;
    transition: color var(--transition);
  }

  /* Dedicated select styling */
  select {
    height: var(--input-height);
    width: 100%;
    background: var(--bg-alt);
    border: none;
    border-radius: var(--radius);
    padding: var(--space-sm) var(--space-md);
    color: var(--fg);
    box-shadow: inset 0 0 0 1px var(--border);
    transition: box-shadow var(--transition);
  }
  select:focus {
    outline: none;
    box-shadow: inset 0 0 0 2px var(--primary);
  }

  /* Wrapper handles the single border */
  .input-wrapper {
    position: relative;
    height: var(--input-height);
    display:flex;
    align-items:center;
    background: var(--bg-alt);
    border-radius: var(--radius);
    box-shadow: inset 0 0 0 1px var(--border);
    transition: box-shadow var(--transition);
  }

  /* Highlight wrapper when any child input is focused */
  .input-wrapper:focus-within {
    box-shadow: inset 0 0 0 2px var(--primary);
  }

  /* Maintain full width for wrapped inputs */
  .input-wrapper > input[type="text"],
  .input-wrapper > input[type="search"] {
    width: 100%;
    background: var(--bg-alt);
    border: none;
    border-radius: var(--radius);
    padding: var(--space-sm) var(--space-md);
    color: var(--fg);
    box-shadow: inset 0 0 0 1px var(--border);
    transition: border-color var(--transition), box-shadow var(--transition);
  }
  input:focus, textarea:focus, select:focus {
    outline: none;
    box-shadow: inset 0 0 0 2px var(--primary);
  }
  textarea { min-height: 100px; resize: vertical; }
  
  .char-count,
  .error-message {
    display: block;
    margin-top: var(--space-sm);
    font-size: 0.8rem;
    color: var(--fg-alt);
  }
  .error-message { color: var(--error); display: none; }
  .error-message.visible { display: block; }
  
  .form-row,
  .filter-controls {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
  }
  .form-group-half { flex: 1 1 calc(50% - var(--space-md)/2); min-width: 0; }

  /* Keep comment & action in same row */
  .form-row { flex-wrap: nowrap; align-items: flex-start; }

  /* Align comment/action row to 60/40  */
  .form-row .form-group-half:first-child { flex: 0 0 60%; }
  .form-row .form-group-half:last-child  { flex: 0 0 40%; }
  .batch-controls { display: flex; flex-wrap: wrap; gap: var(--space-md); }
  .batch-controls > * { flex: 1 1 calc(33.333% - var(--space-md)); }
  .inline-checkbox { width: auto!important; }
  
  /*
     Transaction Row Layout
     ---------------------- */
  .transaction-row {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
  }
  .transaction-input-col { flex: 1 0 70%; min-width: 0; }
  .transaction-type-col { flex: 1 0 30%; min-width: 0; }

  /* Stack vertically on small screens */
  @media (max-width: 768px) {
    .transaction-row { flex-direction: column; }
    .transaction-input-col,
    .transaction-type-col { flex: 1 1 100%; }
  }

  /* ================================
     Buttons
     ================================ */
  .btn {
    display: inline-block;
    padding: var(--space-md) var(--space-lg);
    border: none;
    border-radius: var(--radius);
    font-weight: 500;
    cursor: pointer;
    transition: background var(--transition), transform var(--transition);
  }
  .btn:hover { transform: translateY(-2px); }
  .btn-primary { background: var(--primary); color: #fff; }
  .btn-primary:hover { background: #2980b9; }
  .btn-secondary { background: var(--bg-alt); color: var(--fg); border: 1px solid var(--border); }
  .btn-secondary:hover { background: var(--hover); }
  .form-actions { display: flex; gap: var(--space-md); margin-top: var(--space-lg); }
  
  /* ================================
     Status & Badges
     ================================ */
  .submission-status {
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    border-radius: var(--radius);
    min-height: 20px;
    visibility: hidden;
    opacity: 0;
    transition: opacity var(--transition);
  }
  .submission-status:not(:empty) {
    visibility: visible;
    opacity: 1;
  }
  .submission-status.success { background: rgba(46,204,113,0.1); border: 1px solid var(--secondary); color: var(--secondary); }
  .submission-status.error   { background: rgba(231,76,60,0.1);  border: 1px solid var(--error);     color: var(--error); }
  .submission-status.no-action { background: rgba(30,144,255,0.1);border: 1px solid #1E90FF; color: #1E90FF; }
  
  .status-badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
    text-align: center;
    background: var(--bg-alt);
    color: var(--fg);
  }
  .status-badge.success { background: var(--secondary); color: #fff; }
  .status-badge.error   { background: var(--error);     color: #fff; }
  .status-badge.no-action { background: #ADD8E6; color: #1A1A1A; }
  
  /* ================================
     Tables
     ================================ */
  .table-container {
    position: relative;
    overflow-x: auto;
    margin-top: var(--space-lg);
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    padding: var(--space-md);
    text-align: left;
    border-bottom: 1px solid var(--border);
  }
  th { background: var(--bg-alt); font-weight: 600; }
  tbody tr:hover { background: var(--hover); }
  .no-data { text-align: center; color: var(--fg-alt); }
  
  /* ================================
     Utilities & Helpers
     ================================ */
  .hidden { display: none!important; }
  .clear-btn { position: absolute; right: 0.6rem; top: 50%; transform: translateY(-50%);
              width: 1.6rem; height: 1.6rem; display: none;
              align-items: center; justify-content: center;
              border: 1px solid var(--border);
              border-radius: 50%; font-size: 0.9rem; line-height: 1;
              background: var(--hover); color: var(--fg-alt);
              cursor: pointer; transition: all var(--transition);
  }
  .input-wrapper input:not(:placeholder-shown) + .clear-btn { display: flex; }
  .clear-btn:hover { background: var(--error); color: #fff; }
  
  /* ================================
     Footer
     ================================ */
  footer {
    background: var(--bg-alt);
    padding: var(--space-lg) 0;
    text-align: center;
    margin-top: var(--space-xl);
    border-top: 1px solid var(--border);
  }
  
  /* ================================
     Responsive
     ================================ */
  @media (max-width: 768px) {
    .form-row, .filter-controls { flex-direction: column; }
    .form-group-half { flex: 1 1 100%; }
    .nav-links { justify-content: center; width: 100%; }
    .form-actions { flex-direction: column; }
  }
  